var i=(n,r,e)=>new Promise((c,t)=>{var a=o=>{try{l(e.next(o))}catch(u){t(u)}},_=o=>{try{l(e.throw(o))}catch(u){t(u)}},l=o=>o.done?c(o.value):Promise.resolve(o.value).then(a,_);l((e=e.apply(n,r)).next())});import{g,r as m,o as p,c as v,a as s,t as f,C as d,u as U,b as I}from"./index-BzLn3uqd.js";const S={USER_INFO:"/api/user"};class y{static getUserInfo(){return g(S.USER_INFO)}}const h={class:"user-info"},C={__name:"UserInfo",setup(n){const r=U(),e=m({});p(()=>{c()});function c(){return i(this,null,function*(){e.value=yield y.getUserInfo()})}function t(){return i(this,null,function*(){try{yield d.logout(),r.replace("/login")}catch(a){console.log(a)}})}return(a,_)=>(I(),v("div",h,[s("div",null,f(e.value.name),1),s("div",null,f(e.value.email),1),s("div",null,[s("button",{onClick:t},"登出")])]))}};export{C as default};
